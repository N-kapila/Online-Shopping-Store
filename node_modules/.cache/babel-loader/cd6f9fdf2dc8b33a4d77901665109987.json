{"ast":null,"code":"import _toConsumableArray from \"/Users/nirmalkapilarathne/Desktop/Online shopping/Online-Shopping-Store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/nirmalkapilarathne/Desktop/Online shopping/Online-Shopping-Store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar cart = [];\n\nvar handlCart = function handlCart() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : cart;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var product = action.payload;\n\n  switch (action.type) {\n    case \"ADDITEM\":\n      // Check if product is already exist\n      var exist = state.find(function (x) {\n        return x.id === product.id;\n      });\n\n      if (exist) {\n        //Increase quantity\n        return state.map(function (x) {\n          return x.id === product.id ? _objectSpread({}, x, {\n            qty: x.qty + 1\n          }) : x;\n        });\n      } else {\n        var _product = action.payload;\n        return [].concat(_toConsumableArray(state), [_objectSpread({}, _product, {\n          qty: 1\n        })]);\n      }\n\n      break;\n\n    case \"DELITEM\":\n      var exist1 = state.find(function (x) {\n        return x.id === product.id;\n      });\n\n      if (exist.qty === 1) {\n        return state.filter(function (x) {\n          return x.id !== exist1.id;\n        });\n      } else {\n        return state.map(function (x) {\n          return x.id === product.id ? _objectSpread({}, x, {\n            qty: x.qty - 1\n          }) : x;\n        });\n      }\n\n      break;\n\n    default:\n      return state;\n      break;\n  }\n};\n\nexport default handlCart;","map":{"version":3,"names":["cart","handlCart","state","action","product","payload","type","exist","find","x","id","map","qty","exist1","filter"],"sources":["/Users/nirmalkapilarathne/Desktop/Online shopping/Online-Shopping-Store/src/redux/reducer/handleCart.js"],"sourcesContent":["const cart = [];\n\nconst handlCart = (state = cart, action) =>{\n    const product = action.payload;\n    switch (action.type) {\n        case \"ADDITEM\":\n            // Check if product is already exist\n            const exist = state.find((x)=>x.id === product.id);\n            if(exist){\n                //Increase quantity\n                return state.map((x)=>\n                x.id === product.id ? {...x,qty:x.qty + 1} : x\n                );\n            }else{\n                const product = action.payload;\n                return[\n                    ...state,\n                    {\n                        ...product,\n                        qty: 1,\n                    }\n                ]\n            }\n            break;\n\n            case \"DELITEM\":\n                const exist1 = state.find((x)=>x.id === product.id);\n                if(exist.qty === 1){\n                    return state.filter((x)=>x.id !== exist1.id);\n                }else{\n                    return state.map((x)=>\n                    x.id === product.id ? {...x,qty: x.qty-1} :x\n                    );\n                }\n                break;\n\n        default:\n            return state;\n            break;\n    }\n}\n\nexport default handlCart"],"mappings":";;AAAA,IAAMA,IAAI,GAAG,EAAb;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAyB;EAAA,IAAxBC,KAAwB,uEAAhBF,IAAgB;EAAA,IAAVG,MAAU;EACvC,IAAMC,OAAO,GAAGD,MAAM,CAACE,OAAvB;;EACA,QAAQF,MAAM,CAACG,IAAf;IACI,KAAK,SAAL;MACI;MACA,IAAMC,KAAK,GAAGL,KAAK,CAACM,IAAN,CAAW,UAACC,CAAD;QAAA,OAAKA,CAAC,CAACC,EAAF,KAASN,OAAO,CAACM,EAAtB;MAAA,CAAX,CAAd;;MACA,IAAGH,KAAH,EAAS;QACL;QACA,OAAOL,KAAK,CAACS,GAAN,CAAU,UAACF,CAAD;UAAA,OACjBA,CAAC,CAACC,EAAF,KAASN,OAAO,CAACM,EAAjB,qBAA0BD,CAA1B;YAA4BG,GAAG,EAACH,CAAC,CAACG,GAAF,GAAQ;UAAxC,KAA6CH,CAD5B;QAAA,CAAV,CAAP;MAGH,CALD,MAKK;QACD,IAAML,QAAO,GAAGD,MAAM,CAACE,OAAvB;QACA,oCACOH,KADP,sBAGWE,QAHX;UAIQQ,GAAG,EAAE;QAJb;MAOH;;MACD;;IAEA,KAAK,SAAL;MACI,IAAMC,MAAM,GAAGX,KAAK,CAACM,IAAN,CAAW,UAACC,CAAD;QAAA,OAAKA,CAAC,CAACC,EAAF,KAASN,OAAO,CAACM,EAAtB;MAAA,CAAX,CAAf;;MACA,IAAGH,KAAK,CAACK,GAAN,KAAc,CAAjB,EAAmB;QACf,OAAOV,KAAK,CAACY,MAAN,CAAa,UAACL,CAAD;UAAA,OAAKA,CAAC,CAACC,EAAF,KAASG,MAAM,CAACH,EAArB;QAAA,CAAb,CAAP;MACH,CAFD,MAEK;QACD,OAAOR,KAAK,CAACS,GAAN,CAAU,UAACF,CAAD;UAAA,OACjBA,CAAC,CAACC,EAAF,KAASN,OAAO,CAACM,EAAjB,qBAA0BD,CAA1B;YAA4BG,GAAG,EAAEH,CAAC,CAACG,GAAF,GAAM;UAAvC,KAA2CH,CAD1B;QAAA,CAAV,CAAP;MAGH;;MACD;;IAER;MACI,OAAOP,KAAP;MACA;EAlCR;AAoCH,CAtCD;;AAwCA,eAAeD,SAAf"},"metadata":{},"sourceType":"module"}